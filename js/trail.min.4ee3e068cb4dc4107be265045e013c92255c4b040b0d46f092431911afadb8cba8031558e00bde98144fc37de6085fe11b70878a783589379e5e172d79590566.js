function ensureFilter(){var t=new URLSearchParams(document.location.search),e=t.get("topic");if(!e)return;filterContent(e,"main section .card","data-topic",()=>{setFilterLabel(e),setHeights(),scrollTo(".filter",1)})}function filterContent(t,n,s,e){var o=document.querySelectorAll(n),i=Array.from(o).filter(e=>e.getAttribute(s)!==t);i.forEach(e=>e.style.display="none"),e&&typeof e=="function"&&e()}function setFilterLabel(e){if(!e)return;var t=document.getElementById("filterTopic"),n=document.getElementById("filterIdle"),s=document.getElementById("filterBusy");t.innerHTML=e,n.classList.remove("active"),s.classList.add("active")}function scrollTo(e,t){document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest",offsetTop:t||0})}function setHeights(){for(var t=document.querySelectorAll("aside section"),s,n=document.querySelectorAll("main section"),e=0;e<t.length;e++)s=e===0?50:0,t[e].style.height=n[e].offsetHeight+s+"px"}document.addEventListener("DOMContentLoaded",function(){console.log("loaded trailmap, filtering and setting height"),window.addEventListener("resize",()=>setHeights()),ensureFilter(),setHeights()})